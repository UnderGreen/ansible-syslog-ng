{% import "macros.j2" as macros with context %}
source s_local {
       system();
       internal();
};

{% include "filters.j2" %}

{# Destination generation #}
{{ macros.generate_destinations(syslog_ng_client_destinations) }}

{# Generate logpaths #}
{% for hostname, options in syslog_ng_client_destinations.iteritems() %}
log {
  source(s_local);
  destination({{ macros.generate_statement_name(hostname, "d", options.proto) }});
};

{% endfor %}

